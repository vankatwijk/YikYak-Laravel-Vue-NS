webpackHotUpdate("bundle",{

/***/ "../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js?!./components/Background.vue?vue&type=script&lang=js&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Login__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./components/Login.vue");
/* harmony import */ var _Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./components/Post.vue");
/* harmony import */ var _NoteDetails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./components/NoteDetails.vue");
/* harmony import */ var nativescript_geolocation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/nativescript-geolocation/geolocation.js");
/* harmony import */ var nativescript_geolocation__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(nativescript_geolocation__WEBPACK_IMPORTED_MODULE_3__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//get external pages and plugins




var httpModule = __webpack_require__("../node_modules/tns-core-modules/http/http.js");

var appSettings = __webpack_require__("../node_modules/tns-core-modules/application-settings/application-settings.js");



var utils = __webpack_require__("../node_modules/tns-core-modules/utils/utils.js");

/* harmony default export */ __webpack_exports__["default"] = ({
  computed: {},
  watch: {},

  created() {
    //on creation ensure the user has gps enabled otherwise the app will crash
    nativescript_geolocation__WEBPACK_IMPORTED_MODULE_3__["enableLocationRequest"](true).then(() => {
      nativescript_geolocation__WEBPACK_IMPORTED_MODULE_3__["isEnabled"]().then(isLocationEnabled => {
        console.log('result is ' + isLocationEnabled);

        if (!isLocationEnabled) {
          this.needLocation = false;
          this.locationFailure = true; // potentially do more then just end here...

          return;
        } // MUST pass empty object!!


        nativescript_geolocation__WEBPACK_IMPORTED_MODULE_3__["getCurrentLocation"]({}).then(result => {
          console.log('loc result', result);
          this.needLocation = false;
          this.location = result;
        }).catch(e => {
          console.log('loc error', e);
        });
      });
    }); //a delay is is needed to run the inital starting function due to nativescript bug

    setTimeout(() => {
      this.onStart();
    }, 500);
  },

  data() {
    return {
      needLocation: true,
      locationFailure: false,
      location: null,
      drawerToggle: false,
      drawer1: "",
      drawer2: "",
      mainColor: "#1aa3ff",
      APIURL: "",
      name: "",
      index: 'list',
      notes: []
    };
  },

  methods: {
    onStart() {},

    selectNote(id) {},

    getNotes() {
      console.log("job has been scheduled !");
      this.scheduleJob();
    },

    scheduleJob() {
      var context = utils.ad.getApplicationContext();
      var component = new android.content.ComponentName(context, com.tns.components.notifications.MyJobService.class);
      console.log(component); // Set the id of the job to something meaningful for you

      var builder = new android.app.job.JobInfo.Builder(1, component); // Optional: Set how often the task should be triggered. The minimum is 15min.

      builder.setPeriodic(15 * 60 * 1000); // Optional: Set additional requirements under what conditions your job should be triggered

      builder.setRequiresCharging(false);
      var jobScheduler = context.getSystemService(android.content.Context.JOB_SCHEDULER_SERVICE);
      console.log("Job Scheduled: " + jobScheduler.schedule(builder.build()));
    },

    onPullToRefreshInitiated(_ref) {
      var {
        object
      } = _ref;
      //this method reloads the list of notes when they pull down on the list of available notes
      this.$nextTick(() => {
        this.getNotes();
        object.notifyPullToRefreshFinished();
      });
    },

    onDrawerClosed() {
      this.drawerToggle = false;
    },

    onDrawerOpened() {
      this.drawerToggle = true;
    },

    toggleDrawer() {
      this.$refs.drawer.nativeView.toggleDrawerState();
    },

    homeTap() {},

    postTap() {
      //navigation home button clicked
      this.$navigateTo(_Post__WEBPACK_IMPORTED_MODULE_1__["default"], {
        animated: false,
        clearHistory: true
      });
    },

    logout() {
      //logout of the current user
      this.$navigateTo(_Login__WEBPACK_IMPORTED_MODULE_0__["default"], {
        clearHistory: true
      });
    },

    goToLogin() {
      //logout of the current user
      this.$navigateTo(_Login__WEBPACK_IMPORTED_MODULE_0__["default"], {
        clearHistory: true
      });
    },

    showDetails() {}

  }
});

/***/ })

})
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29tcG9uZW50cy9CYWNrZ3JvdW5kLnZ1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUVBOztBQUdBO0FBQ0EsY0FEQTtBQUdBLFdBSEE7O0FBS0E7QUFDQTtBQUNBLHlGQUNBLElBREEsQ0FDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBLHNDQUZBLENBR0E7O0FBQ0E7QUFDQSxTQVBBLENBU0E7OztBQUNBLHdGQUNBLElBREEsQ0FDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLFNBTkEsRUFPQSxLQVBBLENBT0E7QUFDQTtBQUNBLFNBVEE7QUFVQSxPQXBCQTtBQXFCQSxLQXZCQSxFQUZBLENBMEJBOztBQUNBO0FBQ0E7QUFDQSxLQUZBLEVBRUEsR0FGQTtBQUdBLEdBbkNBOztBQW9DQTtBQUNBO0FBQ0Esd0JBREE7QUFFQSw0QkFGQTtBQUdBLG9CQUhBO0FBSUEseUJBSkE7QUFLQSxrQkFMQTtBQU1BLGtCQU5BO0FBT0EsMEJBUEE7QUFRQSxnQkFSQTtBQVNBLGNBVEE7QUFVQSxtQkFWQTtBQVdBO0FBWEE7QUFhQSxHQWxEQTs7QUFtREE7QUFDQSxlQUNBLENBRkE7O0FBR0Esb0JBQ0EsQ0FKQTs7QUFLQTtBQUNBO0FBQ0E7QUFFQSxLQVRBOztBQVVBO0FBQ0E7QUFDQTtBQUNBLDZCQUhBLENBS0E7O0FBQ0Esc0VBTkEsQ0FRQTs7QUFDQSwwQ0FUQSxDQVdBOztBQUNBO0FBRUE7QUFDQTtBQUNBLEtBMUJBOztBQTJCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0EsT0FMQTtBQU1BLEtBbkNBOztBQW9DQTtBQUNBO0FBQ0EsS0F0Q0E7O0FBdUNBO0FBQ0E7QUFDQSxLQXpDQTs7QUEwQ0E7QUFDQTtBQUNBLEtBNUNBOztBQTZDQSxnQkE3Q0E7O0FBOENBO0FBQ0E7QUFDQTtBQUNBLHVCQURBO0FBRUE7QUFGQTtBQUlBLEtBcERBOztBQXFEQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0EsS0ExREE7O0FBMkRBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQSxLQWhFQTs7QUFpRUE7O0FBakVBO0FBbkRBLEciLCJmaWxlIjoiYnVuZGxlLjBiZDMyYTkwN2Y2OWM3NDFiZDVhLmhvdC11cGRhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyI8dGVtcGxhdGU+XG4gICAgPFBhZ2UgY2xhc3M9XCJwYWdlXCI+XG5cbiAgICAgICAgPEFjdGlvbkJhciB0aXRsZT1cIlwiIGNsYXNzPVwiYWN0aW9uLWJhciBoZWFkZXJcIiAgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6YmxhY2s7Jz5cbiAgICAgICAgICAgIDxTdGFja0xheW91dCBvcmllbnRhdGlvbj1cImhvcml6b250YWxcIiBoZWlnaHQ9XCIzOFwiIGFsaWduSXRlbXM9XCJsZWZ0XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImFjdGlvbkJhckNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBjbGFzcz1cIkhMZWZ0XCIgc3R5bGU9XCJtYXJnaW4tdG9wOjEwO1wiIEB0YXA9XCJ0b2dnbGVEcmF3ZXIoKVwiPlxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgOnRleHQ9XCJkcmF3ZXJUb2dnbGUgPyBkcmF3ZXIyOiBkcmF3ZXIxXCIgc3R5bGU9XCJmb250LXNpemU6Mjc7Y29sb3I6I2ZmZjtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmb250LWF3ZXNvbWVcIiAvPlxuICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XG5cbiAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgY2xhc3M9XCJITWlkXCIgYWxpZ25JdGVtcz1cImxlZnRcIj5cbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxuXG4gICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGNsYXNzPVwiSFJpZ2h0XCI+XG5cbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cbiAgICAgICAgPC9BY3Rpb25CYXI+XG5cbiAgICAgICAgPFJhZFNpZGVEcmF3ZXIgcmVmPVwiZHJhd2VyXCIgQGRyYXdlck9wZW5lZD1cIm9uRHJhd2VyT3BlbmVkKClcIlxuICAgICAgICAgICAgQGRyYXdlckNsb3NlZD1cIm9uRHJhd2VyQ2xvc2VkKClcIj5cbiAgICAgICAgICAgIDxTdGFja0xheW91dCB+ZHJhd2VyQ29udGVudCBiYWNrZ3JvdW5kQ29sb3I9XCIjZWVlXCI+XG4gICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGNsYXNzPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCA6dGV4dD1cIm5hbWVcIiBwYWRkaW5nTGVmdD1cIjMwJVwiIGNvbG9yPVwiYmxhY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcmF3ZXJJdGVtVGV4dCBmb250LWF3ZXNvbWVcIiBtYXJnaW49XCIxMFwiLz5cbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxuICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBoZWlnaHQ9XCI4MCVcIj48L1N0YWNrTGF5b3V0PlxuICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBjbGFzcz1cIlwiPlxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIu+CiyAgTG9nIG91dFwiIHBhZGRpbmdMZWZ0PVwiMzAlXCIgY29sb3I9XCJibGFja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRyYXdlckl0ZW1UZXh0IGZvbnQtYXdlc29tZVwiIG1hcmdpbj1cIjEwXCIgQHRhcD1cImxvZ291dFwiLz5cbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cblxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IH5tYWluQ29udGVudD5cblxuICAgICAgICAgICAgICAgIDxEb2NrTGF5b3V0PlxuXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBkb2NrPVwidG9wXCIgaGVpZ2h0PVwiOTAlXCIgd2lkdGg9XCIxMDAlXCIgc3R5bGU9XCJcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPFJhZExpc3RWaWV3IHJlZj1cImxpc3RWaWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJub3RlIGluIG5vdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsVG9SZWZyZXNoPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cImluZGV4XCIgaGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPVwiI0U4RThFOFwiIHNlcGFyYXRvckNvbG9yPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibGlzdFZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBwdWxsVG9SZWZyZXNoSW5pdGlhdGVkPVwib25QdWxsVG9SZWZyZXNoSW5pdGlhdGVkXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di10ZW1wbGF0ZT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcGFkZGluZ1RvcD1cIjVcIiBiYWNrZ3JvdW5kQ29sb3I9XCIjRThFOEU4XCIgOmlkPVwibm90ZS5pZFwiIEB0YXA9XCJzZWxlY3ROb3RlKG5vdGUuaWQpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgY2xhc3M9XCJub3RlQ29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IG9yaWVudGF0aW9uPVwiaG9yaXpvbnRhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9XCIxMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgOnRleHQ9XCJub3RlLnRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInBvc3RBdXRob3ROYW1lXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCA6dGV4dD1cIigrbm90ZS5kaXN0YW5jZSAqIDEwMCkudG9GaXhlZCgzKSArJyBtZXRlcnMgYXdheSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicG9zdERhdGVTbWFsbFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3YtdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1JhZExpc3RWaWV3PlxuXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XG5cblxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgZG9jaz1cImJvdHRvbVwiIGhlaWdodD1cIjEwJVwiIHN0eWxlPVwiYm9yZGVyLWNvbG9yOiNFNEU0RTQ7Ym9yZGVyLXdpZHRoOjE7YmFja2dyb3VuZDojZmZmO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVwiKiwgKlwiIHZlcnRpY2FsQWxpZ25tZW50PVwidG9wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGNvbD1cIjBcIiBjbGFzcz1cIm5hdkl0ZW1cIiBAdGFwPVwiZ29Ub0xvZ2luKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJcIiBhbmRyb2lkOmNsYXNzPVwibm90aWZpY2F0aW9uQW5kcm9pZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpb3M6Y2xhc3M9XCJub3RpZmljYXRpb25cIiBvcGFjaXR5PVwiMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwi74eqXCIgOmNvbG9yPVwibWFpbkNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZHJvaWQ6c3R5bGU9XCJmb250LXNpemU6MTg7bWFyZ2luLXRvcDotMTVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW9zOnN0eWxlPVwiZm9udC1zaXplOjMwO21hcmdpbi10b3A6LTE1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9udC1hd2Vzb21lXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJMb2dpblwiIHN0eWxlPVwiZm9udC1zaXplOjEwO1wiIDpjb2xvcj1cIm1haW5Db2xvclwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgY29sPVwiMVwiIGNsYXNzPVwibmF2SXRlbVwiIEB0YXA9XCJwb3N0VGFwKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJkZlwiIGFuZHJvaWQ6Y2xhc3M9XCJub3RpZmljYXRpb25BbmRyb2lkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvczpjbGFzcz1cIm5vdGlmaWNhdGlvblwiIG9wYWNpdHk9XCIwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCLvgYRcIiBhbmRyb2lkOnN0eWxlPVwiZm9udC1zaXplOjE4O21hcmdpbi10b3A6LTE1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvczpzdHlsZT1cImZvbnQtc2l6ZTozMDttYXJnaW4tdG9wOi0xNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZvbnQtYXdlc29tZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiQ2xlYXJcIiBzdHlsZT1cImZvbnQtc2l6ZToxMDtcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cblxuICAgICAgICAgICAgICAgIDwvRG9ja0xheW91dD5cblxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cbiAgICAgICAgPC9SYWRTaWRlRHJhd2VyPlxuXG4gICAgPC9wYWdlPlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQ+XG4gICAgLy9nZXQgZXh0ZXJuYWwgcGFnZXMgYW5kIHBsdWdpbnNcbiAgICBpbXBvcnQgTG9naW4gZnJvbSBcIi4vTG9naW5cIjtcbiAgICBpbXBvcnQgUG9zdCBmcm9tIFwiLi9Qb3N0XCI7XG4gICAgaW1wb3J0IE5vdGVEZXRhaWxzIGZyb20gXCIuL05vdGVEZXRhaWxzXCI7XG5cbiAgICBjb25zdCBodHRwTW9kdWxlID0gcmVxdWlyZShcImh0dHBcIik7XG4gICAgY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKFwidG5zLWNvcmUtbW9kdWxlcy9hcHBsaWNhdGlvbi1zZXR0aW5nc1wiKTtcbiAgICBpbXBvcnQgKiBhcyBHZW9sb2NhdGlvbiBmcm9tICduYXRpdmVzY3JpcHQtZ2VvbG9jYXRpb24nO1xuXG4gICAgdmFyIHV0aWxzID0gcmVxdWlyZShcInRucy1jb3JlLW1vZHVsZXMvdXRpbHMvdXRpbHNcIik7XG5cblxuICAgIGV4cG9ydCBkZWZhdWx0IHtcbiAgICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgfSxcbiAgICAgICAgd2F0Y2g6IHtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZCgpIHtcbiAgICAgICAgICAgIC8vb24gY3JlYXRpb24gZW5zdXJlIHRoZSB1c2VyIGhhcyBncHMgZW5hYmxlZCBvdGhlcndpc2UgdGhlIGFwcCB3aWxsIGNyYXNoXG4gICAgICAgICAgICBHZW9sb2NhdGlvbi5lbmFibGVMb2NhdGlvblJlcXVlc3QodHJ1ZSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBHZW9sb2NhdGlvbi5pc0VuYWJsZWQoKS50aGVuKGlzTG9jYXRpb25FbmFibGVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCBpcyAnK2lzTG9jYXRpb25FbmFibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWlzTG9jYXRpb25FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRMb2NhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbkZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgZG8gbW9yZSB0aGVuIGp1c3QgZW5kIGhlcmUuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1VU1QgcGFzcyBlbXB0eSBvYmplY3QhIVxuICAgICAgICAgICAgICAgICAgICBHZW9sb2NhdGlvbi5nZXRDdXJyZW50TG9jYXRpb24oe30pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9jIHJlc3VsdCcsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRMb2NhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9jIGVycm9yJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL2EgZGVsYXkgaXMgaXMgbmVlZGVkIHRvIHJ1biB0aGUgaW5pdGFsIHN0YXJ0aW5nIGZ1bmN0aW9uIGR1ZSB0byBuYXRpdmVzY3JpcHQgYnVnXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RhcnQoKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGEoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5lZWRMb2NhdGlvbjp0cnVlLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uRmFpbHVyZTpmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjpudWxsLFxuICAgICAgICAgICAgICAgIGRyYXdlclRvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHJhd2VyMTogXCLvhYJcIixcbiAgICAgICAgICAgICAgICBkcmF3ZXIyOiBcIu+FgVwiLFxuICAgICAgICAgICAgICAgIG1haW5Db2xvcjogXCIjMWFhM2ZmXCIsXG4gICAgICAgICAgICAgICAgQVBJVVJMOiBcIlwiLFxuICAgICAgICAgICAgICAgIG5hbWU6XCJcIixcbiAgICAgICAgICAgICAgICBpbmRleDogJ2xpc3QnLFxuICAgICAgICAgICAgICAgIG5vdGVzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIG9uU3RhcnQoKXtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3ROb3RlKGlkKXtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXROb3Rlcygpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiam9iIGhhcyBiZWVuIHNjaGVkdWxlZCAhXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVKb2IoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjaGVkdWxlSm9iKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB1dGlscy5hZC5nZXRBcHBsaWNhdGlvbkNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgYW5kcm9pZC5jb250ZW50LkNvbXBvbmVudE5hbWUoY29udGV4dCwgY29tLnRucy5jb21wb25lbnRzLm5vdGlmaWNhdGlvbnMuTXlKb2JTZXJ2aWNlLmNsYXNzKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb21wb25lbnQpXG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGlkIG9mIHRoZSBqb2IgdG8gc29tZXRoaW5nIG1lYW5pbmdmdWwgZm9yIHlvdVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBuZXcgYW5kcm9pZC5hcHAuam9iLkpvYkluZm8uQnVpbGRlcigxLCBjb21wb25lbnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gT3B0aW9uYWw6IFNldCBob3cgb2Z0ZW4gdGhlIHRhc2sgc2hvdWxkIGJlIHRyaWdnZXJlZC4gVGhlIG1pbmltdW0gaXMgMTVtaW4uXG4gICAgICAgICAgICAgICAgYnVpbGRlci5zZXRQZXJpb2RpYygxNSAqIDYwICogMTAwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gT3B0aW9uYWw6IFNldCBhZGRpdGlvbmFsIHJlcXVpcmVtZW50cyB1bmRlciB3aGF0IGNvbmRpdGlvbnMgeW91ciBqb2Igc2hvdWxkIGJlIHRyaWdnZXJlZFxuICAgICAgICAgICAgICAgIGJ1aWxkZXIuc2V0UmVxdWlyZXNDaGFyZ2luZyhmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBqb2JTY2hlZHVsZXIgPSBjb250ZXh0LmdldFN5c3RlbVNlcnZpY2UoYW5kcm9pZC5jb250ZW50LkNvbnRleHQuSk9CX1NDSEVEVUxFUl9TRVJWSUNFKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkpvYiBTY2hlZHVsZWQ6IFwiICsgam9iU2NoZWR1bGVyLnNjaGVkdWxlKGJ1aWxkZXIuYnVpbGQoKSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUHVsbFRvUmVmcmVzaEluaXRpYXRlZCh7IG9iamVjdCB9KSB7XG4gICAgICAgICAgICAgICAgLy90aGlzIG1ldGhvZCByZWxvYWRzIHRoZSBsaXN0IG9mIG5vdGVzIHdoZW4gdGhleSBwdWxsIGRvd24gb24gdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIG5vdGVzXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Tm90ZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICBvYmplY3Qubm90aWZ5UHVsbFRvUmVmcmVzaEZpbmlzaGVkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EcmF3ZXJDbG9zZWQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXJUb2dnbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyYXdlck9wZW5lZCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclRvZ2dsZSA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9nZ2xlRHJhd2VyKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZHJhd2VyLm5hdGl2ZVZpZXcudG9nZ2xlRHJhd2VyU3RhdGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBob21lVGFwKCkge30sXG4gICAgICAgICAgICBwb3N0VGFwKCkge1xuICAgICAgICAgICAgICAgIC8vbmF2aWdhdGlvbiBob21lIGJ1dHRvbiBjbGlja2VkXG4gICAgICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGVUbyhQb3N0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9nb3V0KCkge1xuICAgICAgICAgICAgICAgIC8vbG9nb3V0IG9mIHRoZSBjdXJyZW50IHVzZXJcbiAgICAgICAgICAgICAgICB0aGlzLiRuYXZpZ2F0ZVRvKExvZ2luLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdvVG9Mb2dpbigpIHtcbiAgICAgICAgICAgICAgICAvL2xvZ291dCBvZiB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGVUbyhMb2dpbiwge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93RGV0YWlscygpIHt9XG4gICAgICAgIH1cbiAgICB9O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG5cbjwvc3R5bGU+Il0sInNvdXJjZVJvb3QiOiIifQ==